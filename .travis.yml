language: c
dist: trusty
sudo: required
notifications:
  email: false
git:
  submodules: true
  depth: 3

matrix:
  include:
  - os: linux
    compiler: gcc
    env:
      - opes=linux
      - bits=32
  - os: linux
    compiler: gcc
    env:
      - opes=linux
      - bits=64
  - os: linux
    compiler: clang
    env:
      - opes=linux
      - bits=32
  - os: linux
    compiler: clang
    env:
      - opes=linux
      - bits=64
  - os: osx
    compiler: gcc
    env:
      - opes=mac
      - bits=universal
  - os: osx
    compiler: clang
    env:
      - opes=mac
      - bits=universal

script:
  - mkdir build && cd build
  - cmake .. -DCONF=$bits
  - cmake --build .
