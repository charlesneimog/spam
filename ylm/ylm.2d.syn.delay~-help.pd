#N struct 11389-t-scope float x array bufr 11389-t-scope-value-r array
bufg 11389-t-scope-value-g;
#N struct 11389-t-scope-value-r float x float y;
#N struct 11389-t-scope-value-g float x float y;
#N canvas 606 23 528 825 10;
#X declare -stdpath spam;
#X obj 37 382 *~;
#X obj 49 405 nbx 5 14 0 100 0 0 empty \$0-gain empty 0 -8 0 10 -262144
-1 -1 80 256;
#X obj 22 449 *~, f 5;
#X obj 22 340 noise~;
#X obj 320 719 declare -stdpath spam;
#N canvas 0 22 450 300 gain 0;
#X obj 10 45 dbtorms;
#X obj 10 67 pack f 20;
#X obj 10 89 line~;
#X obj 10 25 inlet;
#X obj 10 111 outlet~;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 0 0;
#X restore 49 425 pd gain;
#X obj 37 360 osc~ 5;
#N canvas 0 22 450 300 \$0-scope 0;
#X scalar 11389-t-scope 0 \; 0.507223 0 \; 0.488047 0.0171383 \; 0.469698
0.0330286 \; 0.452477 0.0478249 \; 0.436655 0.0617152 \; 0.422466 0.074917
\; 0.410103 0.0876718 \; 0.399716 0.10024 \; 0.391405 0.112895 \; 0.385223
0.125915 \; 0.381171 0.139577 \; 0.3792 0.154154 \; 0.379211 0.1699
\; 0.381058 0.187052 \; 0.384551 0.205818 \; 0.389459 0.226376 \; 0.395515
0.248865 \; 0.402421 0.273382 \; 0.409854 0.299981 \; 0.417474 0.328665
\; 0.424927 0.35939 \; 0.431858 0.392062 \; 0.437913 0.426534 \; 0.442748
0.462614 \; 0.446036 0.500061 \; 0.447475 0.538591 \; 0.446791 0.577882
\; 0.443746 0.617577 \; 0.438145 0.657291 \; 0.429834 0.696615 \; 0.41871
0.735126 \; 0.404718 0.772394 \; 0.387858 0.807986 \; 0.368179 0.841477
\; 0.345783 0.872455 \; 0.320822 0.900532 \; 0.293497 0.925346 \; 0.264048
0.946574 \; 0.232761 0.96393 \; 0.19995 0.977178 \; 0.16596 0.986132
\; 0.131159 0.990661 \; 0.0959279 0.990691 \; 0.0606558 0.986207 \;
0.0257322 0.977255 \; -0.00846031 0.963939 \; -0.0415539 0.94642 \;
-0.073202 0.924916 \; -0.103086 0.899695 \; -0.130922 0.871072 \; -0.156465
0.839406 \; -0.179515 0.805089 \; -0.199919 0.768542 \; -0.217577 0.73021
\; -0.232441 0.690549 \; -0.244517 0.650023 \; -0.253864 0.609096 \;
-0.260594 0.568219 \; -0.264872 0.527829 \; -0.266906 0.488337 \; -0.26695
0.450123 \; -0.265295 0.413531 \; -0.262266 0.378861 \; -0.258211 0.346366
\; -0.2535 0.316248 \; -0.248514 0.288655 \; -0.243638 0.263681 \;
-0.239255 0.241363 \; -0.235735 0.221681 \; -0.233433 0.204563 \; -0.232674
0.189885 \; -0.233756 0.177473 \; -0.236936 0.167111 \; -0.242428 0.158545
\; -0.250399 0.151486 \; -0.260964 0.14562 \; -0.274185 0.140614 \;
-0.290067 0.136121 \; -0.308558 0.131792 \; -0.329554 0.127278 \; -0.352892
0.122241 \; -0.37836 0.116361 \; -0.405697 0.109341 \; -0.4346 0.100915
\; -0.464725 0.0908497 \; -0.495697 0.0789556 \; -0.527116 0.0650858
\; -0.558561 0.049141 \; -0.589602 0.0310714 \; -0.619805 0.0108777
\; -0.648738 -0.0113886 \; -0.675982 -0.0356265 \; -0.701139 -0.0616879
\; -0.723834 -0.0893788 \; -0.743726 -0.118466 \; -0.760513 -0.148677
\; -0.773936 -0.179713 \; -0.783784 -0.211245 \; -0.789899 -0.242931
\; -0.792175 -0.274413 \; -0.790563 -0.305329 \; -0.785067 -0.335323
\; -0.775751 -0.364046 \; -0.762729 -0.391165 \; -0.746167 -0.416372
\; -0.726279 -0.439388 \; -0.703321 -0.459969 \; -0.677589 -0.47791
\; -0.64941 -0.493051 \; -0.619135 -0.505279 \; -0.587137 -0.514529
\; -0.5538 -0.520788 \; -0.519512 -0.524094 \; -0.484659 -0.524535
\; -0.449618 -0.522248 \; -0.41475 -0.517416 \; -0.38039 -0.510263
\; -0.34685 -0.501054 \; -0.314404 -0.490084 \; -0.283289 -0.477678
\; -0.2537 -0.46418 \; -0.225789 -0.44995 \; -0.199658 -0.435353 \;
-0.175364 -0.420757 \; -0.152918 -0.406521 \; -0.13228 -0.392991 \;
-0.113372 -0.380493 \; -0.0960702 -0.369326 \; -0.0802149 -0.359756
\; -0.0656129 -0.352011 \; -0.052044 -0.346279 \; -0.0392645 -0.3427
\; -0.0270158 -0.341368 \; -0.0150288 -0.342327 \; -0.00303137 -0.345569
\; 0.00924476 -0.351037 \; 0.0220583 -0.358623 \; 0.0356518 -0.368176
\; 0.0502453 -0.379497 \; 0.0660316 -0.392349 \; 0.0831717 -0.406461
\; 0.101789 -0.421531 \; 0.121969 -0.437233 \; 0.143753 -0.453223 \;
0.167141 -0.469148 \; 0.192085 -0.48465 \; 0.218498 -0.499374 \; 0.246246
-0.512974 \; 0.275156 -0.525122 \; 0.305017 -0.535512 \; 0.335586 -0.543866
\; 0.366588 -0.549939 \; 0.397727 -0.553525 \; 0.428686 -0.55446 \;
0.459138 -0.552624 \; 0.48875 -0.547943 \; 0.517189 -0.540391 \; 0.544133
-0.529989 \; 0.569269 -0.516805 \; 0.59231 -0.500952 \; 0.612991 -0.482585
\; 0.631083 -0.461897 \; 0.64639 -0.439116 \; 0.658759 -0.414498 \;
0.668082 -0.388324 \; 0.674296 -0.360891 \; 0.677387 -0.332509 \; 0.677389
-0.303491 \; 0.674386 -0.274151 \; 0.668509 -0.244792 \; 0.659933 -0.215703
\; 0.648875 -0.187155 \; 0.635592 -0.15939 \; 0.620371 -0.13262 \;
0.603529 -0.107023 \; 0.585404 -0.0827363 \; 0.566348 -0.0598579 \;
0.546724 -0.0384425 \; 0.526895 -0.0185 \; 0.50722 2.26544e-06 \; \;
-0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0
\; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0
-0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \;
-0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0
\; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0
-0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; -0 -0 \; 0 -0 \;
0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0
\; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \;
0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0
\; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \;
0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0 \; 0 -0
\; 0 -0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \;
0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0
\; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0
0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \;
0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; 0 0 \; -0 0 \; -0
0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \;
-0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0
0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \;
-0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0
0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \; -0 0 \;
-0 -0 \; \;;
#X coords -1 1 1 -1 201 201 2 100 100;
#X restore 64 526 pd \$0-scope;
#X obj 22 419 *~;
#X obj 22 762 dac~ 1 2 3 4 5 6 7 8, f 47;
#X obj 6 10 ylm.header ylm.2d.syn.delay~;
#X obj 320 739 text define -k \$0-scope-attrs;
#A set gain 150 \; interval 100 \;;
#X obj 320 760 text define -k \$0-pro-attrs;
#A set angles 45 90 135 180 225 270 315 360 \;;
#X obj 22 735 spam~ 7 ylm.2d.projector~ 3 8 \$0-pro-attrs, f 47;
#X obj 9 790 ylm.footer;
#N canvas 0 22 450 300 init 0;
#X obj 23 32 loadbang;
#X msg 23 54 80;
#X obj 23 76 s \$0-gain;
#X obj 93 32 loadbang;
#X obj 93 76 s \$0-pos;
#X msg 93 54 1 0;
#X obj 163 32 loadbang;
#X msg 163 54 1;
#X obj 163 76 s \$0-traj;
#X obj 23 102 loadbang;
#X obj 23 146 s \$0-delay;
#X msg 23 124 3000;
#X obj 163 102 loadbang;
#X msg 163 124 1;
#X obj 163 146 s \$0-diff;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 3 0 5 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 9 0 11 0;
#X connect 11 0 10 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X restore 320 698 pd init;
#X obj 22 503 spam~ 7 ylm.2d.scope~ 3 \$0-scope \$0-scope-attrs;
#N canvas 217 367 450 300 pos 0;
#X obj 145 100 nbx 4 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 4.46804 256;
#X obj 100 100 nbx 4 14 0 1e+37 0 0 empty empty empty 0 -8 0 10 -262144
-1 -1 0.05 256;
#X obj 119 77 t b f;
#X obj 101 150 pack 1 f;
#X obj 101 18 r \$0-pos;
#X obj 101 40 unpack f f;
#X obj 101 172 outlet;
#X obj 164 19 inlet;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 2 1 3 1;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 5 1 0 0;
#X connect 7 0 5 0;
#X coords 0 -1 1 1 90 14 2 100 100;
#X restore 301 429 pd pos;
#X obj 301 383 tgl 15 0 empty \$0-traj empty 17 7 0 10 -262144 -1 -1
1 1;
#N canvas 0 22 450 406 trajectory 0;
#X obj 158 109 + 1;
#X obj 128 173 / 180;
#X obj 128 195 * 6.28318;
#X obj 128 153 f -1;
#X obj 128 131 sel 179 0;
#X obj 128 109 f 0;
#X obj 83 106 + 1;
#X obj 53 150 f -1;
#X obj 93 150 f 1;
#X obj 53 106 f 0;
#X obj 53 128 sel 499 0;
#X obj 53 235 t b f;
#X obj 53 257 f 1;
#X obj 53 279 -, f 5;
#X obj 53 79 t b b, f 13;
#X obj 53 55 metro 20;
#X obj 53 341 pack f f, f 13;
#X obj 53 33 inlet;
#X obj 53 363 outlet;
#X obj 159 153 f 1;
#X obj 53 170 max 300;
#X obj 53 192 - 300;
#X obj 53 214 / 200;
#X connect 0 0 5 1;
#X connect 1 0 2 0;
#X connect 2 0 16 1;
#X connect 3 0 0 1;
#X connect 4 0 3 0;
#X connect 4 1 19 0;
#X connect 5 0 0 0;
#X connect 5 0 1 0;
#X connect 5 0 4 0;
#X connect 6 0 9 1;
#X connect 7 0 6 1;
#X connect 8 0 6 1;
#X connect 9 0 6 0;
#X connect 9 0 10 0;
#X connect 9 0 20 0;
#X connect 10 0 7 0;
#X connect 10 1 8 0;
#X connect 11 0 12 0;
#X connect 11 1 13 1;
#X connect 12 0 13 0;
#X connect 13 0 16 0;
#X connect 14 0 9 0;
#X connect 14 1 5 0;
#X connect 15 0 14 0;
#X connect 16 0 18 0;
#X connect 17 0 15 0;
#X connect 19 0 0 1;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 22 0 11 0;
#X restore 301 406 pd trajectory;
#X obj 132 428 nbx 5 14 0 5000 0 0 empty \$0-delay empty 0 -8 0 10
-262144 -1 -1 3000 256;
#X obj 199 429 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 48.5714 256;
#X msg 199 447 diffusion \$1;
#X msg 132 447 delay \$1;
#X obj 22 476 spam~ 7 ylm.2d.syn.delay~ 3 5000, f 47;
#X text 4 271 The abstraction expects the order of decomposition as
the first argument and the maximum delay time as the second argument.
For an order of decomposition N \, there are 2N+1 harmonics. The left
inlet expects the signal to synthesize and the right inlet expects
the coordinates as a list \, the delay value and the diffusion value.
, f 67;
#X text 4 161 delay[l \, m] = delay * 2m / (2N+1) if m >= 0, f 67
;
#X text 4 174 delay[l \, m] = delay * (2m-1) / (2N+1) if m < 0, f
67;
#X text 4 187 with l the degree \, m the azimuthal order of the harmonics
and N the order of decomposition., f 67;
#X text 4 214 To arise linearly \, the factor of diffusion is also
scaled depending on the degree and the order of harmonics following
this equation:, f 67;
#X text 4 241 factor[l \, m] = factor^(N-l+1), f 67;
#X text 4 255 with the factor between 0 and 1, f 67;
#X obj 199 383 tgl 15 0 empty \$0-diff empty 17 7 0 10 -262144 -1 -1
1 1;
#N canvas 0 22 450 406 diffuse 0;
#X obj 53 150 f -1;
#X obj 93 150 f 1;
#X obj 53 55 metro 20;
#X obj 53 33 inlet;
#X obj 33 263 outlet;
#X obj 53 106 f 0;
#X obj 83 106 + 1;
#X obj 32 198 - 150;
#X obj 53 128 sel 999 0;
#X obj 32 176 clip 150 850;
#X obj 32 224 / 7;
#X connect 0 0 6 1;
#X connect 1 0 6 1;
#X connect 2 0 5 0;
#X connect 3 0 2 0;
#X connect 5 0 6 0;
#X connect 5 0 8 0;
#X connect 5 0 9 0;
#X connect 6 0 5 1;
#X connect 7 0 10 0;
#X connect 8 0 0 0;
#X connect 8 1 1 0;
#X connect 9 0 7 0;
#X connect 10 0 4 0;
#X restore 199 406 pd diffuse;
#X text 4 31 The abstraction synthesizes the signals of the circular
harmonics for a sound source using delay lines. The idea behind this
implementation is to decorrelate the signal depending a factor of diffusion.
When the diffussion is 100% \, all the signal are decorrelated. Decreasing
the factor of diffusion toward zero brings back linearly to a directional
synthesis. Like for the directional synthesis \, a list of coordinates
controls the position but in this implementation \, the delay value
controls a global delay time that is scaled depending on the degree
and the order of harmonics following this equation:, f 67;
#X connect 0 0 8 1;
#X connect 1 0 5 0;
#X connect 2 0 24 0;
#X connect 3 0 8 0;
#X connect 5 0 2 1;
#X connect 6 0 0 0;
#X connect 6 0 0 1;
#X connect 8 0 2 0;
#X connect 13 0 9 0;
#X connect 13 1 9 1;
#X connect 13 2 9 2;
#X connect 13 3 9 3;
#X connect 13 4 9 4;
#X connect 13 5 9 5;
#X connect 13 6 9 6;
#X connect 13 7 9 7;
#X connect 17 0 24 1;
#X connect 18 0 19 0;
#X connect 19 0 17 0;
#X connect 20 0 23 0;
#X connect 21 0 22 0;
#X connect 22 0 24 1;
#X connect 23 0 24 1;
#X connect 24 0 13 0;
#X connect 24 0 16 0;
#X connect 24 1 13 1;
#X connect 24 1 16 1;
#X connect 24 2 13 2;
#X connect 24 2 16 2;
#X connect 24 3 13 3;
#X connect 24 3 16 3;
#X connect 24 4 13 4;
#X connect 24 4 16 4;
#X connect 24 5 13 5;
#X connect 24 5 16 5;
#X connect 24 6 13 6;
#X connect 24 6 16 6;
#X connect 32 0 33 0;
#X connect 33 0 21 0;
